<workflow-app name="ModcoIngest" xmlns="uri:oozie:workflow:0.1">
 	<start to="Fork-One"/>


	<fork name="Fork-One">

        <path start="Do-SPMX-Subflow" />

        <path start="Do-SPMM-Subflow" />

	</fork>

    <join name="Join-One" to="Fork-Two" />


	<fork name="Fork-Two">

        <path start="Do-SPTM-Subflow" />

        <path start="Do-SPDV-Subflow" />

	</fork>

    <join name="Join-Two" to="End-Ingest" />


    <action name="Do-SPMX-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPMX.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-One"/>
        <error to="Join-One"/>
    </action>

    <action name="Do-SPMM-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPMM.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-SPTT-Subflow"/>
        <error to="Do-SPTT-Subflow"/>
    </action>

    <action name="Do-SPTT-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPTT.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-One"/>
        <error to="Join-One"/>
    </action>

    <action name="Do-SPTM-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPTM.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-Two"/>
        <error to="Join-Two"/>
    </action>

    <action name="Do-SPDV-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPDV.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-Two"/>
        <error to="Join-Two"/>
    </action>


	<end name="End-Ingest"/>
</workflow-app>
