<workflow-app name="ModcoIngest" xmlns="uri:oozie:workflow:0.1">
 	<start to="Fork-Long"/>


	<fork name="Fork-Long">

        <path start="Do-SPMX-Subflow" />

        <path start="Do-SPMM-Subflow" />

	</fork>

    <join name="Join-Long" to="Fork-Short" />


	<fork name="Fork-Short">

        <path start="Do-SPDV-Subflow" />

        <path start="Do-SPTM-Subflow" />

	</fork>

    <join name="Join-Short" to="End-Ingest" />


    <action name="Do-SPMX-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPMX.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-Long"/>
        <error to="Join-Long"/>
    </action>

    <action name="Do-SPMM-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPMM.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-SPTT-Subflow"/>
        <error to="Do-SPTT-Subflow"/>
    </action>

    <action name="Do-SPDV-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPDV.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-Short"/>
        <error to="Join-Short"/>
    </action>

    <action name="Do-SPTT-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPTT.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-Long"/>
        <error to="Join-Long"/>
    </action>

    <action name="Do-SPTM-Subflow">
    	<sub-workflow>
        	<app-path>/YieldWorkflow/yieldIngestWorkflow-SPTM.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-Short"/>
        <error to="Join-Short"/>
    </action>


	<end name="End-Ingest"/>
</workflow-app>
