<workflow-app name="ModcoIngest" xmlns="uri:oozie:workflow:0.1">
 	<start to="Fork-Incr"/>


	<fork name="Fork-Incr">

        <path start="Do-Incr-0-Subflow" />

        <path start="Do-Incr-1-Subflow" />

	</fork>

    <join name="Join-All" to="Do-Hive-Subflow" />


    <action name="Do-Incr-0-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Incr-0.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-Incr-2-Subflow"/>
        <error to="Do-Incr-2-Subflow"/>
    </action>

    <action name="Do-Incr-1-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Incr-1.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-Incr-3-Subflow"/>
        <error to="Do-Incr-3-Subflow"/>
    </action>

    <action name="Do-Incr-2-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Incr-2.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-Full-0-Subflow"/>
        <error to="Do-Full-0-Subflow"/>
    </action>

    <action name="Do-Incr-3-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Incr-3.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-Full-1-Subflow"/>
        <error to="Do-Full-1-Subflow"/>
    </action>

    <action name="Do-Full-0-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Full-0.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-Full-2-Subflow"/>
        <error to="Do-Full-2-Subflow"/>
    </action>

    <action name="Do-Full-1-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Full-1.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Do-Full-3-Subflow"/>
        <error to="Do-Full-3-Subflow"/>
    </action>

    <action name="Do-Full-2-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Full-2.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-All"/>
        <error to="Join-All"/>
    </action>

    <action name="Do-Full-3-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Full-3.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="Join-All"/>
        <error to="Join-All"/>
    </action>

    <action name="Do-Hive-Subflow">
    	<sub-workflow>
        	<app-path>/IncrementalYield/yieldIngestWorkflow-Hive.xml</app-path>
            <propagate-configuration/>
        </sub-workflow>
        <ok to="End-Ingest"/>
        <error to="End-Ingest"/>
    </action>


	<end name="End-Ingest"/>
</workflow-app>
